{"mappings":"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","sources":["js/voiceRSS.js","js/script.js"],"sourcesContent":["const audioElement = document.getElementById(\"audio\");\r\n// VoiceRSS Javascript SDK\r\nexport default VoiceRSS = {\r\n  speech(e) {\r\n    this._validate(e), this._request(e);\r\n  },\r\n  _validate(e) {\r\n    if (!e) throw \"The settings are undefined\";\r\n    if (!e.key) throw \"The API key is undefined\";\r\n    if (!e.src) throw \"The text is undefined\";\r\n    if (!e.hl) throw \"The language is undefined\";\r\n    if (e.c && \"auto\" != e.c.toLowerCase()) {\r\n      let a = !1;\r\n      switch (e.c.toLowerCase()) {\r\n        case \"mp3\":\r\n          a = new Audio().canPlayType(\"audio/mpeg\").replace(\"no\", \"\");\r\n          break;\r\n        case \"wav\":\r\n          a = new Audio().canPlayType(\"audio/wav\").replace(\"no\", \"\");\r\n          break;\r\n        case \"aac\":\r\n          a = new Audio().canPlayType(\"audio/aac\").replace(\"no\", \"\");\r\n          break;\r\n        case \"ogg\":\r\n          a = new Audio().canPlayType(\"audio/ogg\").replace(\"no\", \"\");\r\n          break;\r\n        case \"caf\":\r\n          a = new Audio().canPlayType(\"audio/x-caf\").replace(\"no\", \"\");\r\n      }\r\n      if (!a) throw `The browser does not support the audio codec ${e.c}`;\r\n    }\r\n  },\r\n  _request(e) {\r\n    const a = this._buildRequest(e),\r\n      t = this._getXHR();\r\n    (t.onreadystatechange = function () {\r\n      if (4 == t.readyState && 200 == t.status) {\r\n        if (0 == t.responseText.indexOf(\"ERROR\")) throw t.responseText;\r\n        let e = t.responseText;\r\n        (audioElement.src = e),\r\n          (audioElement.onloadedmetadata = () => {\r\n            audioElement.play();\r\n          });\r\n      }\r\n    }),\r\n      t.open(\"POST\", \"https://api.voicerss.org/\", !0),\r\n      t.setRequestHeader(\r\n        \"Content-Type\",\r\n        \"application/x-www-form-urlencoded; charset=UTF-8\"\r\n      ),\r\n      t.send(a);\r\n  },\r\n  _buildRequest(e) {\r\n    const a = e.c && \"auto\" != e.c.toLowerCase() ? e.c : this._detectCodec();\r\n    return `key=${e.key || \"\"}&src=${e.src || \"\"}&hl=${e.hl || \"\"}&r=${\r\n      e.r || \"\"\r\n    }&c=${a || \"\"}&f=${e.f || \"\"}&ssml=${e.ssml || \"\"}&b64=true`;\r\n  },\r\n  _detectCodec() {\r\n    const e = new Audio();\r\n    return e.canPlayType(\"audio/mpeg\").replace(\"no\", \"\")\r\n      ? \"mp3\"\r\n      : e.canPlayType(\"audio/wav\").replace(\"no\", \"\")\r\n      ? \"wav\"\r\n      : e.canPlayType(\"audio/aac\").replace(\"no\", \"\")\r\n      ? \"aac\"\r\n      : e.canPlayType(\"audio/ogg\").replace(\"no\", \"\")\r\n      ? \"ogg\"\r\n      : e.canPlayType(\"audio/x-caf\").replace(\"no\", \"\")\r\n      ? \"caf\"\r\n      : \"\";\r\n  },\r\n  _getXHR() {\r\n    try {\r\n      return new XMLHttpRequest();\r\n    } catch (e) {}\r\n    try {\r\n      return new ActiveXObject(\"Msxml3.XMLHTTP\");\r\n    } catch (e) {}\r\n    try {\r\n      return new ActiveXObject(\"Msxml2.XMLHTTP.6.0\");\r\n    } catch (e) {}\r\n    try {\r\n      return new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\r\n    } catch (e) {}\r\n    try {\r\n      return new ActiveXObject(\"Msxml2.XMLHTTP\");\r\n    } catch (e) {}\r\n    try {\r\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    } catch (e) {}\r\n    throw \"The browser does not support HTTP request\";\r\n  },\r\n};\r\n","const button = document.getElementById(\"button\");\nconst audioElement = document.getElementById(\"audio\");\nimport voiceRSS from \"./voiceRSS\";\n// Disable/Enable Button\nfunction toggleButton() {\n  button.disabled = !button.disabled;\n}\n\n// VoiceRSS Speech Function\nfunction tellMe(joke) {\n  const jokeString = joke.trim().replace(/ /g, \"%20\");\n  // VoiceRSS Speech Parameters\n  voiceRSS.speech({\n    key: \"93d20da9af8940d4996fa1fc7cba40a3\",\n    src: jokeString,\n    hl: \"en-us\",\n    r: 0,\n    c: \"mp3\",\n    f: \"44khz_16bit_stereo\",\n    ssml: false,\n  });\n}\n\nasync function getJokes() {\n  let joke = \"\";\n  const apiUrl = \"https://v2.jokeapi.dev/joke/Miscellaneous,Dark,Pun,Spooky\";\n  try {\n    const response = await fetch(apiUrl);\n    const data = await response.json();\n    // Assign One or Two Part Joke\n    if (data.setup) {\n      joke = `${data.setup} ... ${data.delivery}`;\n    } else {\n      joke = data.joke;\n    }\n\n    tellMe(joke);\n\n    toggleButton();\n  } catch (error) {\n    console.log(`${error.message}☄️☄️☄️`);\n  }\n}\n\n// Event Listeners\nbutton.addEventListener(\"click\", getJokes);\naudioElement.addEventListener(\"ended\", toggleButton);\n"],"names":["$2f46d91b3a53b5be$var$audioElement","document","getElementById","$2f46d91b3a53b5be$export$2e2bcd8739ae039","VoiceRSS","speech","e","this","_validate","_request","key","src","hl","c","toLowerCase","a","Audio","canPlayType","replace","e1","_buildRequest","t","_getXHR","onreadystatechange","readyState","status","responseText","indexOf","onloadedmetadata","play","open","setRequestHeader","send","_detectCodec","r","f","ssml","XMLHttpRequest","ActiveXObject","e2","e3","e4","e5","e6","$63eb283d27decb4d$var$button","$63eb283d27decb4d$var$audioElement","$63eb283d27decb4d$var$toggleButton","disabled","addEventListener","async","joke","response","fetch","data","json","setup","delivery","jokeString","trim","$63eb283d27decb4d$var$tellMe","error","console","log","message"],"version":3,"file":"index.36a88670.js.map"}